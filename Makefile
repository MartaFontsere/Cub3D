# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: yanaranj <yanaranj@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2025/01/10 17:24:49 by yanaranj          #+#    #+#              #
#    Updated: 2025/01/10 19:38:02 by yanaranj         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

#------------------------------------------------COLORS------------------------------------------------------#

END = \033[0m
GREEN = \033[1;92m
RED = \033[1;91m
YELLOW = \033[1;93m
ORANGE = \033[38;5;214m
BLUE = \033[1;94m


FILES = cub3D.c parsing.c

SRCDIR = src/
SRCS = $(addprefix $(SRCDIR), $(FILES))

OBJDIR = obj/
OBJS = $(patsubst $(SRCDIR)%.c, $(OBJDIR)%.o, $(SRCS))

INCLUDES = -I ./libs/Libft -I ./inc -I ./src/get_next_line/

NAME = cub3D

HEADER = inc/tcub3D.h src/get_next_line/get_next_line.h
CC = cc -g #-fsanitize=address
CFLAGS = -Wall -Werror -Wextra
RM = rm -rf
LDFLAGS = -lreadline

#MLXDIR = libs/MLX42
LIBS = libs/Libft/libft.a #$(MLXDIR)/build/libmlx42.a -ldl -lglfw -lm

#--------------------------------------------------NORMAS----------------------------------------------------#

$(OBJDIR)%.o: $(SRCDIR)%.c $(HEADER) $(LIBS) Makefile
	@mkdir -p $(dir $@)
	@$(CC) $(CFLAGS) $(INCLUDES) -c $< -o $@
	@echo "$(YELLOW)Compiling... $(END)$(patsubst $(DIR_BUILD)%,%,$@)"
	
all: make_libs $(NAME)

make_libs:
	@make -C libs/Libft all
	
$(NAME): ${OBJS} $(HEADER)
	@$(CC) $(CFLAGS) ${OBJS} $(LIBS) -o $(NAME)
	@echo "$(GREEN)"
	@echo " "
	@echo "      â£°â ‚â €â£¼â â €â €â €â €â €â €â €â €â €â €â£ â£€â €â €â €â €â €â €â €"
	@echo "      â¡Ÿâ¢†â¢ â¢£â €â €â €â €â €â €â €â €â €â €â¡˜â¡‡â ¹â¢¦â €â €â €â €â €â €"
	@echo "      â ¹â£¦â£¹â¢¸â¡–â ¤â¢€â €â ˜â¢¿â ›â¢”â ¢â¡€â ƒâ £â €â ‡â¢¡â €â €â €â €â €"
	@echo "        â ¹â €â¡·â£„â  â¡ˆâ ‘â ¢â¢§â €â¢¢â °â£¼â¢¶â£·â£¾â €â ƒâ €â € "
	@echo "       â ¤â¢–â¡†â °â¡™â¢•â¢¬â¡¢â£„â €â ‘â¢¼â €â šâ£¿â¢†â €â ±â£¸â €â €â €â €"
	@echo "     â¢€â£¤â¡¶â ®â¢§â¡€â ‘â¡ˆâ¢¢â£•â¡Œâ¢¶â €â €â£±â£ â ‰â¢ºâ¡„â €â¢¹â €â €â €â €"
	@echo "      â¢€â¡¸â €â ˆâ¡—â¢„â¡ˆâ¢†â ™â ¿â£¶â£¿â ¿â¢¿â£·â£´â ‰â ¹â¢¶â¢¾â¡†â €â €â €"
	@echo "   â¢ â ¶â ¿â¡‰â ‰â ‰â ™â¢»â£®â¡™â¢¦â£±â¡â£Œâ ¿â¡„â¢â „â ‘â¢¤â£€â â¢»â¡‡â €"
	@echo "   â¢€â£ â ¾â –â ›â¢»â Ÿâ â¢˜â£¿â£†â ¹â¢·â¡â €â ˆâ¢»â£¤â¡†â €â ‘â¢´â ‰â¢¿â£„â €"
	@echo "  â¢ â žâ¢ƒâ¢€â£ â¡´â ‹â €â ˆâ â ‰â¢»â£·â£¤â §â¡€$(END) $(RED)â ¦$(END) $(GREEN)â ˆâ¢»â ¿â£¿â¡€â¡€â£¸â €â €"
	@echo "  â¢€â ”â ‹â â¡°â â €â¢€â  â£¤â£¶â žâ¢»â¡™â €â ™â¢¦â €â ˆâ “â¢¾â¡Ÿâ¡–â Šâ¡â¡Ÿâ €â € "
	@echo "  â£‹â¢€â£ â¡žâ â €â ”â£¡â£¾â ‹â ‰â¢†â¡€â¢±â¡€â €â €â €â €â €â €â¢¿â¡„â €â¢‡â ‡â €â €"
	@echo " â Žâ£´â ›â¢¡â ƒâ €â €â£´â¡â ˆâ ¢â£€â£¸â£‰â ¦â£¬â ¦â£€â €â£„â €â €â ˆâ ƒâ €â €â ™â¡€â €"
	@echo " â¡¸â¡â£ â¡†â €â €â£¾â ‹â ‘â¢„â£€â£ â¡¤â¢•â¡¶â â €â €â â¢ªâ ‘â ¤â¡€â €â¢°â¡â ‚â ‘â¢€"
	@echo " â â¡¼â¢‹â ‡â €â£¸â£Ÿâ£„â €â €â¢ â¡ â “â£¿â ‡â €â €â €â €â €â ‘â¢„â¡Œâ †â¢°â£·â£€â¡€â¢¸"
	@echo " â£¸â â¢¸â €â¢€â¡¿â¡€â €â ˆâ¢‡â¡€â —â¢²â¡Ÿâ €â €â €â €â €â €â €â €â ¹â¡œâ ¦â£ˆâ €â£¸â¡„"
	@echo " â£§â ¤â£¼â €â¢¸â ‡â ‰â ‚â ”â ˜â¢„â£€â¢¼â ƒâ¡‡â €â €â €â €â €â €â €â €â ˆâ ‘â šâ ³â ‹â €   ðŸ”¥  ðŸ”¥  ðŸ”¥  ðŸ”¥	"
	@echo " â â ‡â£°â¢¿â €â£¾â¢‚â£€â£€â¡¸â †â â €â£¹â €â¢¡â €â €â €â €â €â €â €â €â €â €â €â €â €â €ðŸ”¥              ðŸ”¥"
	@echo " â¢€â¡â£¸â €â£Ÿâ â €â ™â¢„â ¼â â ˆâ¢ºâ €â ˜â¡†â €	   $(END)  $(RED)ðŸ”¥ DRACARYS IS BACK ðŸ”¥ $(END) $(GREEN)"
	@echo " â ˆâ¡â£¸â¢°â¡¯â †â¢¤â ”â Šâ¢¢â£€â£€â¡¼â¡‡â €â ¹â¡€â €â €â €â €â €â €â €â €â €â €â €â € ðŸ”¥              ðŸ”¥"
	@echo " â¢ â¢»â¢¸â¡‡â €â €â ‘â£¤â Šâ €â €â ˆâ£§â €â €â ™â£„â €â €â €â €â €â €â €â €â €â €â €    ðŸ”¥  ðŸ”¥  ðŸ”¥  ðŸ”¥"
	@echo " â ¸â£¼â¢¸â Ÿâ ‘â ºâ¡‰â ˆâ¢‘â †â  â â¢»â¡„â €â €â ˆâ¢†â €â €â €â €â €â €â €â €â €â €"
	@echo "  â¡Ÿâ£¸â¡€â €â €â£ˆâ£¶â¡â €â €â €â¢ â¢»â¡„â €â €â €â ‘â ¤â£„â¡€â €â €â €â €â €â €"
	@echo " â¢°â â£¿â¡¿â Ÿâ¢â â €â¢ˆâ –â ’â Šâ ‰â ‰â ¹â£„â €â €â €â €â €â ˆâ ‘â ¢â¡€â €â €â €"
	@echo " â£€â Ÿâ¢°â¡‡â €â €â ˆâ¢¢â¡´â Šâ €â €â €â €â €â£¸â¢™â£·â „â¢€â €â  â „â â ’â šâ €â €â €"
	@echo " â ˜â ¹â ¤â ›â ›â ²â¢¤â â Šâ ˆâ ‚â¢¤â¢€â  â ”â Šâ €â €â €â €â €â €â €â €â €â €â €â €â €â €"
	@echo " â €â €â €â €â €â £â¢€â¡€â ”â ƒâ €â €â €â €â €"
	@echo "$(END)"
	@echo "$(BLUE)	CUB_3D DONE$(END)"

clean:
	@$(RM) ${OBJDIR}
	@make -C libs/Libft clean --no-print-directory
	@echo "$(RED)CUB3D OBJECTS DELETED$(END)$(END)"

fclean: clean
	@$(RM) $(NAME)
	@make -C libs/Libft fclean --no-print-directory
	@echo "$(ORANGE)"
	@echo "	â €â €â €â €â €â €â¢±â£†â €â €"
	@echo "	â €â €â €â €â €â €â ˆâ£¿â£·â¡€â €"
	@echo "	â €â €â €â €â €â €â¢¸â£¿â£¿â£·â£§â €â €â €"
	@echo "	â €â €â €â €â¡€â¢ â£¿$(END)$(YELLOW)â¡Ÿâ£¿$(END)$(ORANGE)â£¿â£¿â¡‡â €"
	@echo "	â €â €â €â €â£³â£¼â£¿$(END)$(YELLOW)â¡â¢¸$(END)$(ORANGE)â£¿â£¿â£¿â¢€â €"
	@echo "	â €â €â €â£°â£¿â£¿$(END)$(YELLOW)â¡¿â â¢¸$(END)$(ORANGE)â£¿â£¿â¡Ÿâ£¼â¡†"
	@echo "	â¢°â¢€â£¾â£¿$(END)$(YELLOW)â£¿â Ÿâ €â €â£¾â¢¿$(END)$(ORANGE)â£¿â£¿â£¿â£¿"
	@echo "	â¢¸â£¿â£¿$(END)$(YELLOW)â£¿â¡â €â €â €â ƒâ ¸â£¿$(END)$(ORANGE)â£¿â£¿â¡¿"
	@echo "	â¢³â£¿â£¿$(END)$(YELLOW)â£¿â €â €â €â €â €â €â¢¹â£¿$(END)$(ORANGE)â¡¿â¡"
	@echo "	â €â ¹â£¿$(END)$(YELLOW)â£¿â¡„â €â €â €â €â €â¢ â£¿$(END)$(ORANGE)â¡žâ "
	@echo "	â €â €â ˆâ ›$(END)$(YELLOW)â¢¿â£„â €â €â €â£ â ž$(END)$(ORANGE)â ‹â €â €"
	@echo "	â €â €â €â €â €$(END)$(YELLOW)â ‰ "
	@echo "$(END)"
	@echo "$(RED) CUB3D EXEC DELETED$(END)$(END)"

re: fclean all

.PHONY: all clean fclean re
